# Surge å®Œæ•´é…ç½® - æ™ºèƒ½åˆ†æµç‰ˆ
# æ›´æ–°æ—¶é—´: 2025-01-21
# é…ç½®è¯´æ˜: https://manual.nssurge.com/
#
# é…ç½®ç‰¹ç‚¹:
# 1. Smart ç­–ç•¥ç»„ - åœ°åŒºèŠ‚ç‚¹æ™ºèƒ½é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹
# 2. è‡ªåŠ¨æµ‹é€Ÿ - url-test è‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹
# 3. è´Ÿè½½å‡è¡¡ - load-balance åˆ†æ•£æµé‡æå‡é€Ÿåº¦
# 4. DNS é˜²æ³„éœ² - å®Œæ•´çš„åŠ å¯† DNS é…ç½®
#
# ä½¿ç”¨è¯´æ˜:
# - å°†æ‰€æœ‰ "ä½ çš„è®¢é˜…é“¾æ¥" æ›¿æ¢ä¸ºå®é™…çš„ Surge è®¢é˜…åœ°å€
# - Smart ç­–ç•¥ç»„ä¼šè‡ªåŠ¨ä»è®¢é˜…ä¸­ç­›é€‰å¯¹åº”åœ°åŒºèŠ‚ç‚¹
# - é¦–æ¬¡ä½¿ç”¨éœ€è¦ç”Ÿæˆå¹¶å®‰è£… MITM è¯ä¹¦

[General]
# ================== ç½‘ç»œåŸºç¡€è®¾ç½® ==================
# å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
wifi-assist = true
# æ··åˆç½‘ç»œ
all-hybrid = false
# æ¸¸æˆä¼˜åŒ–æ¨¡å¼
udp-priority = true
# IPv6 æ”¯æŒ (å…³é—­å¯å‡å°‘æ³„éœ²é£é™©)
ipv6 = false
# VIF IPv6
ipv6-vif = disabled

# ================== å»¶è¿Ÿæµ‹è¯• ==================
internet-test-url = http://www.google.com/generate_204
proxy-test-url = http://www.google.com/generate_204
test-timeout = 3

# ================== DNS é˜²æ³„éœ²é…ç½® ==================
# DNS æœåŠ¡å™¨ (ä»…ä½¿ç”¨å›½å†…åŠ å¯† DNSï¼Œä¸ä½¿ç”¨ç³»ç»Ÿ DNS)
dns-server = 223.5.5.5, 119.29.29.29
# åŠ å¯† DNS æœåŠ¡å™¨
encrypted-dns-server = https://223.5.5.5/dns-query, https://doh.pub/dns-query, quic://223.5.5.5:853
# è·³è¿‡åŠ å¯† DNS (å½“ç›´è¿æ—¶ä½¿ç”¨ç³»ç»Ÿ DNS)
encrypted-dns-skip-cert-verification = false
# Hijack DNS (åŠ«æŒ DNS æŸ¥è¯¢åˆ°æŒ‡å®šæœåŠ¡å™¨)
hijack-dns = *:53
# è¯»å–è®¾å¤‡ DNS è®¾ç½®
read-etc-hosts = true
# ä½¿ç”¨æœ¬åœ° host éœ€è¦å¼€å¯
use-local-host-item-for-proxy = true

# ================== è·¯ç”±è®¾ç½® ==================
# è·³è¿‡ä»£ç†
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, localhost, *.local, *.crashlytics.com, seed-sequoia.siri.apple.com, sequoia.apple.com
# æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# å¤–éƒ¨æ§åˆ¶å™¨
external-controller-access = password@0.0.0.0:6170
# HTTP API
http-api = password@0.0.0.0:6171
http-api-web-dashboard = true

# ================== å…¶ä»–è®¾ç½® ==================
# æ—¥å¿—çº§åˆ«
loglevel = notify
# æ˜¾ç¤ºé”™è¯¯é¡µé¢æ‹’ç»
show-error-page-for-reject = true
# å¼ºåˆ¶ TCP è¿æ¥ä¸º HTTP è¿æ¥
force-http-engine-hosts = *.ott.cibntv.net
# UDP å›é€€è¡Œä¸º
udp-policy-not-supported-behaviour = REJECT
# GeoIP æ•°æ®åº“
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# ç¦ç”¨ GEOIP è‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = false
# å…è®¸ WiFi è®¿é—®
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153

# ================== é«˜çº§è®¾ç½® ==================
# æ™ºèƒ½åˆ†æµå¢å¼º
include-all-networks = false
include-local-networks = false
# æ’é™¤è·¯ç”±
exclude-simple-hostnames = true
# Hijack DNS
hijack-dns = *:53
# å§‹ç»ˆè¿”å›çœŸå® IP (é˜²æ­¢ DNS æ³„éœ²)
always-real-ip = *.lan, *.direct, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, *.stun.*, localhost.ptlogin2.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, *.crashlytics.com
# æ™ºèƒ½è§„åˆ™ä¼˜åŒ–
rule-order = true

[Host]
# ================== DNS åˆ†æµé…ç½® ==================
# å›½å¤–åŸŸåä½¿ç”¨åŠ å¯† DNS (é˜²æ­¢ ISP åŠ«æŒå’Œæ³„éœ²)
# Google æœåŠ¡
*.google.com = server:https://dns.google/dns-query
*.googleapis.com = server:https://dns.google/dns-query
*.gstatic.com = server:https://dns.google/dns-query
*.youtube.com = server:https://dns.google/dns-query
*.googlevideo.com = server:https://dns.google/dns-query

# Cloudflare æœåŠ¡
*.cloudflare.com = server:https://1.1.1.1/dns-query
*.cloudflare-dns.com = server:https://1.1.1.1/dns-query

# å¸¸è§å›½å¤–æœåŠ¡
*.github.com = server:https://1.1.1.1/dns-query
*.githubusercontent.com = server:https://1.1.1.1/dns-query
*.netflix.com = server:https://1.1.1.1/dns-query
*.telegram.org = server:https://1.1.1.1/dns-query
*.twitter.com = server:https://1.1.1.1/dns-query
*.facebook.com = server:https://1.1.1.1/dns-query
*.instagram.com = server:https://1.1.1.1/dns-query
*.openai.com = server:https://1.1.1.1/dns-query

# Apple æœåŠ¡ (ä½¿ç”¨å›½å†… DNS)
*.apple.com = server:https://223.5.5.5/dns-query
*.icloud.com = server:https://223.5.5.5/dns-query

[Proxy]
# å†…ç½®ç­–ç•¥: DIRECT, REJECT, REJECT-TINYGIF
# èŠ‚ç‚¹ä¿¡æ¯å†™åœ¨è¿™é‡Œï¼ˆä¸€èˆ¬è®¢é˜…è‡ªåŠ¨åŒæ­¥ï¼‰

[Proxy Group]
# ================== ä¸»ç­–ç•¥ç»„ ==================
# æ‰‹åŠ¨é€‰æ‹© - ä»è®¢é˜…å¯¼å…¥æ‰€æœ‰èŠ‚ç‚¹
èŠ‚ç‚¹é€‰æ‹© = select, no-alert=0, hidden=0, include-all-proxies=1, policy-path=ä½ çš„è®¢é˜…é“¾æ¥, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Proxy.png

# è‡ªåŠ¨é€‰æ‹© - ç»§æ‰¿æ‰€æœ‰èŠ‚ç‚¹å¹¶æµ‹é€Ÿ
è‡ªåŠ¨é€‰æ‹© = url-test, no-alert=0, hidden=0, include-other-group=èŠ‚ç‚¹é€‰æ‹©, interval=600, tolerance=50, timeout=3, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png

# è´Ÿè½½å‡è¡¡ - ç»§æ‰¿æ‰€æœ‰èŠ‚ç‚¹
è´Ÿè½½å‡è¡¡ = load-balance, persistent=true, no-alert=0, hidden=0, include-other-group=èŠ‚ç‚¹é€‰æ‹©, interval=600, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Available.png

# ================== åº”ç”¨ç­–ç•¥ç»„ ==================
AI = select, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, è´Ÿè½½å‡è¡¡, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ChatGPT.png

YouTube = url-test, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, interval=600, tolerance=50, timeout=3, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png

Netflix = select, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix.png

Disney+ = select, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Disney+.png

Spotify = select, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Spotify.png

TikTok = select, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TikTok.png

è‹¹æœæœåŠ¡ = select, DIRECT, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png

å¾®è½¯æœåŠ¡ = select, DIRECT, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png

GitHub = select, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, è´Ÿè½½å‡è¡¡, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/GitHub.png

Telegram = url-test, é¦™æ¸¯èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, interval=600, tolerance=50, timeout=3, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png

Twitter = select, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Twitter.png

æ¸¸æˆå¹³å° = select, DIRECT, èŠ‚ç‚¹é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Game.png

å›½å¤–åª’ä½“ = select, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å¾·å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Streaming.png

å“”å“©å“”å“© = select, DIRECT, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/bilibili.png

# ================== åŠŸèƒ½ç­–ç•¥ç»„ ==================
å¹¿å‘Šè¿‡æ»¤ = select, REJECT, DIRECT, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Reject.png

æ¼ç½‘ä¹‹é±¼ = select, èŠ‚ç‚¹é€‰æ‹©, è‡ªåŠ¨é€‰æ‹©, DIRECT, no-alert=0, hidden=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png

# ================== åœ°åŒºç­–ç•¥ç»„ (æ™ºèƒ½é€‰æ‹©) ==================
# ä»è‡ªåŠ¨é€‰æ‹©ç­–ç•¥ç»„ç»§æ‰¿èŠ‚ç‚¹ï¼Œç„¶åç­›é€‰å¯¹åº”åœ°åŒº
é¦™æ¸¯èŠ‚ç‚¹ = select, no-alert=0, hidden=0, include-other-group=è‡ªåŠ¨é€‰æ‹©, policy-regex-filter=(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png

å°æ¹¾èŠ‚ç‚¹ = select, no-alert=0, hidden=0, include-other-group=è‡ªåŠ¨é€‰æ‹©, policy-regex-filter=(?=.*(ğŸ‡¹ğŸ‡¼|å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png

æ—¥æœ¬èŠ‚ç‚¹ = select, no-alert=0, hidden=0, include-other-group=è‡ªåŠ¨é€‰æ‹©, policy-regex-filter=(?=.*(ğŸ‡¯ğŸ‡µ|æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png

æ–°åŠ å¡èŠ‚ç‚¹ = select, no-alert=0, hidden=0, include-other-group=è‡ªåŠ¨é€‰æ‹©, policy-regex-filter=(?=.*(ğŸ‡¸ğŸ‡¬|æ–°|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾)).)*$, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png

ç¾å›½èŠ‚ç‚¹ = select, no-alert=0, hidden=0, include-other-group=è‡ªåŠ¨é€‰æ‹©, policy-regex-filter=(?=.*(ğŸ‡ºğŸ‡¸|ç¾|US|(?i)States|America))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png

éŸ©å›½èŠ‚ç‚¹ = select, no-alert=0, hidden=0, include-other-group=è‡ªåŠ¨é€‰æ‹©, policy-regex-filter=(?=.*(ğŸ‡°ğŸ‡·|éŸ©|KR|(?i)Korea))^((?!(æ¸¯|å°|æ—¥|æ–°|ç¾)).)*$, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png

å¾·å›½èŠ‚ç‚¹ = select, no-alert=0, hidden=0, include-other-group=è‡ªåŠ¨é€‰æ‹©, policy-regex-filter=(?=.*(ğŸ‡©ğŸ‡ª|å¾·|DE|(?i)Germany))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Germany.png

å…¶ä»–èŠ‚ç‚¹ = select, no-alert=0, hidden=0, include-other-group=è‡ªåŠ¨é€‰æ‹©, policy-regex-filter=^(?!.*(ğŸ‡­ğŸ‡°|ğŸ‡¹ğŸ‡¼|ğŸ‡¯ğŸ‡µ|ğŸ‡¸ğŸ‡¬|ğŸ‡ºğŸ‡¸|ğŸ‡°ğŸ‡·|ğŸ‡©ğŸ‡ª|æ¸¯|å°|æ—¥|æ–°|ç¾|éŸ©|å¾·|HK|TW|JP|SG|US|KR|DE)).*$, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Available.png

[Rule]
# ================== åŸºç¡€è§„åˆ™ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰ ==================
# æœ¬åœ°ç½‘ç»œç›´è¿ï¼ˆé¿å…å±€åŸŸç½‘æµé‡èµ°ä»£ç†ï¼‰
RULE-SET,LAN,DIRECT

# ================== å¹¿å‘Šæ‹¦æˆªï¼ˆç¬¬äºŒä¼˜å…ˆçº§ï¼‰ ==================
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising.list,å¹¿å‘Šè¿‡æ»¤,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hijacking/Hijacking.list,å¹¿å‘Šè¿‡æ»¤,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy.list,å¹¿å‘Šè¿‡æ»¤,update-interval=86400

# ================== åº”ç”¨è§„åˆ™ï¼ˆç²¾å‡†åŒ¹é…ï¼‰ ==================
# AI æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,AI,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Claude/Claude.list,AI,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Gemini/Gemini.list,AI,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Copilot/Copilot.list,AI,update-interval=86400

# æµåª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,Disney+,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,Spotify,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,TikTok,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,å“”å“©å“”å“©,update-interval=86400

# å¸¸ç”¨æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,YouTube,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,è‹¹æœæœåŠ¡,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,å¾®è½¯æœåŠ¡,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,GitHub,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,Telegram,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,Twitter,update-interval=86400

# æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Game/Game.list,æ¸¸æˆå¹³å°,update-interval=86400

# å›½å¤–åª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia.list,å›½å¤–åª’ä½“,update-interval=86400

# ================== åˆ†æµè§„åˆ™ ==================
# ä¸­å›½åŸŸåç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China.list,DIRECT,update-interval=86400

# ä¸­å›½ ASN ç›´è¿ï¼ˆè¿è¥å•†IPæ®µï¼‰
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaASN/ChinaASN.list,DIRECT,update-interval=86400

# å…¨çƒä»£ç†ï¼ˆæœªåŒ¹é…çš„å›½å¤–æµé‡ï¼‰
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global.list,èŠ‚ç‚¹é€‰æ‹©,update-interval=86400

# ================== æœ¬åœ°è‡ªå®šä¹‰è§„åˆ™ ==================
# ç‰¹æ®ŠåŸŸåå¤„ç†
DOMAIN-SUFFIX,googleapis.cn,èŠ‚ç‚¹é€‰æ‹©
DOMAIN-SUFFIX,gstatic.com,èŠ‚ç‚¹é€‰æ‹©

# ================== GeoIP è§„åˆ™ï¼ˆå…œåº•ï¼‰ ==================
# ä¸­å›½ IP ç›´è¿
GEOIP,CN,DIRECT

# ================== æœ€ç»ˆè§„åˆ™ ==================
# DNS æŸ¥è¯¢å¤±è´¥èµ°ä»£ç†
FINAL,æ¼ç½‘ä¹‹é±¼,dns-failed

[URL Rewrite]
# ================== URL é‡å†™è§„åˆ™ ==================
# Google æœç´¢é‡å®šå‘
^https?://(www\.)?g\.cn https://www.google.com 302
^https?://(www\.)?google\.cn https://www.google.com 302

# Safari å…¨èƒ½æœç´¢
# ä»¥ä¸‹è§„åˆ™éœ€è¦åœ¨ Safari æœç´¢æ è¾“å…¥ "å‘½ä»¤+æœç´¢å†…å®¹"
# gm = Google Maps, yt = YouTube, tw = Twitter, db = è±†ç“£, wb = å¾®åš, zh = çŸ¥ä¹, bd = ç™¾åº¦
^https:\/\/www\.google\.com\/search\?q=gm\+(.+) https://www.google.com/maps/search/$1 302
^https:\/\/www\.google\.com\/search\?q=yt\+(.+) https://www.youtube.com/results?search_query=$1 302
^https:\/\/www\.google\.com\/search\?q=tw\+(.+) https://twitter.com/search?q=$1 302
^https:\/\/www\.google\.com\/search\?q=db\+(.+) https://www.douban.com/search?q=$1 302
^https:\/\/www\.google\.com\/search\?q=wb\+(.+) https://s.weibo.com/weibo?q=$1 302
^https:\/\/www\.google\.com\/search\?q=zh\+(.+) https://www.zhihu.com/search?q=$1&type=content 302
^https:\/\/www\.google\.com\/search\?q=bd\+(.+) https://www.baidu.com/s?wd=$1 302
^https:\/\/www\.google\.com\/search\?q=gh\+(.+) https://github.com/search?q=$1 302

[Header Rewrite]
# HTTP å¤´é‡å†™

[Script]
# è„šæœ¬é…ç½®

[SSID Setting]
# ================== SSID æ™ºèƒ½åˆ‡æ¢ ==================
# åœ¨ä¸åŒ WiFi ä¸‹ä½¿ç”¨ä¸åŒç­–ç•¥ï¼ˆæ™ºèƒ½åˆ†æµå¢å¼ºï¼‰
# æ ¼å¼: "WiFiåç§°" suspend=false/true
# suspend=true: ç›´è¿æ‰€æœ‰æµé‡
# suspend=false: ä½¿ç”¨é…ç½®çš„è§„åˆ™

# ç¤ºä¾‹ï¼šå®¶åº­/å…¬å¸ WiFi å¯ä»¥ç›´è¿
# "HomeWiFi" suspend=true
# "OfficeWiFi" suspend=true

# å…¬å…± WiFi ä½¿ç”¨å®Œæ•´ä»£ç†ä¿æŠ¤éšç§
# "Starbucks" suspend=false

[MITM]
# MITM é…ç½®
# è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
skip-server-cert-verify = false
# ç”¨äº TCP è¿æ¥
tcp-connection = true
# ä¸»æœºå (éœ€è¦è§£å¯†çš„åŸŸå)
hostname = www.google.cn, www.g.cn

# CA è¯ä¹¦ (éœ€è¦åœ¨ Surge ä¸­ç”Ÿæˆå¹¶å®‰è£…)
# é¦–æ¬¡ä½¿ç”¨éœ€è¦: Surge -> MitM -> ç”Ÿæˆæ–°çš„ CA è¯ä¹¦ -> å®‰è£…è¯ä¹¦ -> ä¿¡ä»»è¯ä¹¦
# ca-passphrase =
# ca-p12 =
