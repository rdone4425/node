# 快速开始指南

## 本地测试

如果你想在本地测试脚本，可以按照以下步骤操作：

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行脚本

```bash
python update_nodes.py
```

### 3. 查看结果

配置文件会保存在 `data/` 目录下。

## 部署到 GitHub

### 1. 创建新仓库

在 GitHub 上创建一个新的仓库（可以是私有或公开）。

### 2. 上传代码

```bash
git init
git add .
git commit -m "初始化节点更新项目"
git branch -M main
git remote add origin https://github.com/你的用户名/你的仓库名.git
git push -u origin main
```

### 3. 配置权限

1. 进入仓库的 **Settings**
2. 找到 **Actions** → **General**
3. 在 **Workflow permissions** 中：
   - 选择 **Read and write permissions**
   - 勾选 **Allow GitHub Actions to create and approve pull requests**
4. 点击 **Save**

### 4. 启用 Actions

1. 进入仓库的 **Actions** 标签
2. 如果显示需要启用，点击 **I understand my workflows, go ahead and enable them**

### 5. 手动运行

1. 在 **Actions** 页面
2. 选择左侧的 **自动更新免费节点**
3. 点击右侧的 **Run workflow** 按钮
4. 点击绿色的 **Run workflow** 确认
5. 等待运行完成（通常需要1-2分钟）

### 6. 查看结果

运行完成后：
1. 刷新仓库主页
2. 会看到新增的 `data/` 文件夹
3. 里面包含了下载的配置文件

## 📱 在代理客户端中使用

### Clash 系列

1. 复制 `data/clash_merged.yml` 的原始链接：
   ```
   https://raw.githubusercontent.com/你的用户名/你的仓库名/main/data/clash_merged.yml
   ```
2. 在 Clash 客户端中添加此订阅链接

### V2Ray 系列

1. 复制 `data/v2ray_merged.txt` 的原始链接：
   ```
   https://raw.githubusercontent.com/你的用户名/你的仓库名/main/data/v2ray_merged.txt
   ```
2. 在 V2Ray 客户端中导入此订阅链接

## 🔄 自动更新

配置完成后，GitHub Actions 会每 6 小时自动运行一次，无需手动操作。

## ❓ 常见问题

### Q: Actions 运行失败怎么办？

A: 
1. 检查是否正确配置了 Workflow permissions
2. 查看 Actions 运行日志找到具体错误
3. 确保 `1.txt` 中的链接可以正常访问

### Q: 如何修改自动运行时间？

A: 编辑 `.github/workflows/update-nodes.yml` 文件中的 cron 表达式。

### Q: 可以添加私有订阅源吗？

A: 可以，在 `node.txt` 中添加任何可访问的 HTTP/HTTPS 链接。

### Q: 配置文件为什么是空的？

A: 可能的原因：
1. 源地址失效
2. 网络问题
3. 源返回的不是有效配置

查看 `data/update_report.json` 了解详细错误信息。

## 💡 提示

- 建议使用合并后的配置文件（`clash_merged.yml` 或 `v2ray_merged.txt`）
- 定期检查 Actions 运行状态
- 可以 Star ⭐ 收藏项目方便后续访问

