# 快速开始指南

## 本地测试

如果你想在本地测试脚本，可以按照以下步骤操作：

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行脚本

```bash
python update_nodes.py
```

### 3. 查看结果

配置文件会保存在 `data/` 目录下。

## 部署到 GitHub

### 1. 创建新仓库

在 GitHub 上创建一个新的仓库（可以是私有或公开）。

### 2. 上传代码

```bash
git init
git add .
git commit -m "初始化节点更新项目"
git branch -M main
git remote add origin https://github.com/你的用户名/你的仓库名.git
git push -u origin main
```

### 3. 配置权限

1. 进入仓库的 **Settings**
2. 找到 **Actions** → **General**
3. 在 **Workflow permissions** 中：
   - 选择 **Read and write permissions**
   - 勾选 **Allow GitHub Actions to create and approve pull requests**
4. 点击 **Save**

### 4. 启用 Actions

1. 进入仓库的 **Actions** 标签
2. 如果显示需要启用，点击 **I understand my workflows, go ahead and enable them**

### 5. 手动运行

1. 在 **Actions** 页面
2. 选择左侧的 **自动更新免费节点**
3. 点击右侧的 **Run workflow** 按钮
4. 点击绿色的 **Run workflow** 确认
5. 等待运行完成（通常需要1-2分钟）

### 6. 查看结果

运行完成后：
1. 刷新仓库主页
2. 会看到两个文件：
   - `clash.yml` - 合并后的 Clash 配置 ⭐ 推荐使用
   - `node_content.txt` - 其他协议节点（V2Ray 等，不含 Clash）

## 📱 使用 Clash 配置

### 获取订阅链接 ⭐ 推荐

复制 `clash.yml` 的原始链接作为订阅地址：
```
https://raw.githubusercontent.com/你的用户名/你的仓库名/main/clash.yml
```

### 在 Clash 客户端中使用

1. **Clash for Windows**：
   - 打开软件
   - 点击 Profiles（配置）
   - 粘贴上面的订阅链接
   - 点击 Download（下载）
   - 选择刚下载的配置文件

2. **Clash for Android**：
   - 打开软件
   - 点击配置
   - 点击右上角 "+"
   - 选择 URL（从 URL 导入）
   - 粘贴订阅链接

3. **ClashX (Mac)**：
   - 点击菜单栏图标
   - 配置 → 托管配置 → 管理
   - 添加订阅链接

### 代理组说明

配置中包含两个代理组：
- **auto** - 自动选择延迟最低的节点
- **PROXY** - 手动选择节点或使用 auto

### V2Ray 等其他协议节点

如果源中包含 V2Ray、Shadowsocks 等其他协议节点，可以访问：
```
https://raw.githubusercontent.com/你的用户名/你的仓库名/main/node_content.txt
```

**注意**：此文件只包含非 Clash 类型的节点，Clash 节点在 `clash.yml` 中。

## 🔄 自动更新

配置完成后，GitHub Actions 会每 6 小时自动运行一次，无需手动操作。

## ❓ 常见问题

### Q: Actions 运行失败怎么办？

A: 
1. 检查是否正确配置了 Workflow permissions
2. 查看 Actions 运行日志找到具体错误
3. 确保 `1.txt` 中的链接可以正常访问

### Q: 如何修改自动运行时间？

A: 编辑 `.github/workflows/update-nodes.yml` 文件中的 cron 表达式。

### Q: 可以添加私有订阅源吗？

A: 可以，在 `node.txt` 中添加任何可访问的 HTTP/HTTPS 链接。

### Q: node_content.txt 文件为什么是空的？

A: 可能的原因：
1. 源地址失效
2. 网络问题
3. 源返回的不是有效内容

查看 Actions 运行日志了解详细错误信息。

## 💡 提示

- 所有提取的内容都在 `node_content.txt` 一个文件中
- 文件包含详细的来源信息和时间戳
- 定期检查 Actions 运行状态
- 可以 Star ⭐ 收藏项目方便后续访问

